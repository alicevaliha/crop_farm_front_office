{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import'../Css/Header.css';import logo from'./img_component/logo_crop_2.png';import user from'./img_component/user.jpeg';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Header(){const[isLoggedIn,setIsLoggedIn]=useState(false);const[username,setUsername]=useState(\"\");useEffect(()=>{const storedId=localStorage.getItem(\"userId\");const use=localStorage.getItem(\"username\");setIsLoggedIn(!!storedId);setUsername(use);},[]);useEffect(()=>{// Si l'utilisateur se déconnecte, supprimer les messages du localStorage\nif(!isLoggedIn){// localStorage.removeItem(\"messages\");\n}},[isLoggedIn]);return/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo\",children:/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"\"})}),/*#__PURE__*/_jsxs(\"nav\",{children:[/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"acceuil\",children:\"Acceuil\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:isLoggedIn?\"message\":\"login\",children:isLoggedIn?\"Messages\":\"Messages\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"historique\",children:\"Recherche\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:isLoggedIn?\"logout\":\"login\",children:isLoggedIn?\"Logout\":\"Login\"})}),isLoggedIn&&/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"historique\",children:\"Simulations\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile\",children:[isLoggedIn&&/*#__PURE__*/_jsxs(\"p\",{children:[\" \",username,\"  \"]}),/*#__PURE__*/_jsx(\"img\",{src:user,alt:\"\"})]})]})]});}export default Header;","map":{"version":3,"names":["React","useEffect","useState","logo","user","jsx","_jsx","jsxs","_jsxs","Header","isLoggedIn","setIsLoggedIn","username","setUsername","storedId","localStorage","getItem","use","children","className","src","alt","href"],"sources":["/Users/macbook/Documents/git clones/crop_farm_front_office/src/Components/Header.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport '../Css/Header.css';\r\nimport logo from './img_component/logo_crop_2.png';\r\nimport user from './img_component/user.jpeg';\r\n\r\nfunction Header() {\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [username, setUsername] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const storedId = localStorage.getItem(\"userId\");\r\n    const use = localStorage.getItem(\"username\");\r\n    setIsLoggedIn(!!storedId);\r\n    setUsername(use);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // Si l'utilisateur se déconnecte, supprimer les messages du localStorage\r\n    if (!isLoggedIn) {\r\n      // localStorage.removeItem(\"messages\");\r\n    }\r\n  }, [isLoggedIn]);\r\n\r\n  return (\r\n    <header>\r\n      <div className=\"logo\">\r\n        <img src={logo} alt=\"\"/>\r\n      </div>\r\n      <nav>\r\n        <ul>\r\n          <li><a href=\"acceuil\">Acceuil</a></li>\r\n          <li><a href={isLoggedIn ? \"message\" : \"login\"}>{isLoggedIn ? \"Messages\" : \"Messages\"}</a></li>\r\n          <li><a href=\"historique\">Recherche</a></li>\r\n          <li><a href={isLoggedIn ? \"logout\" : \"login\"}>{isLoggedIn ? \"Logout\" : \"Login\"}</a></li>\r\n          {isLoggedIn && <li><a href=\"historique\">Simulations</a></li>}\r\n          {/* <li><a href=\"recherche_terrain\">Resultat</a></li> */}\r\n        </ul>\r\n        <div className=\"profile\">\r\n        {isLoggedIn && <p> {username}  </p>}\r\n          <img src={user} alt=\"\"/>\r\n        </div>\r\n      </nav>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,mBAAmB,CAC1B,MAAO,CAAAC,IAAI,KAAM,iCAAiC,CAClD,MAAO,CAAAC,IAAI,KAAM,2BAA2B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE7C,QAAS,CAAAC,MAAMA,CAAA,CAAG,CAChB,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGT,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAACU,QAAQ,CAAEC,WAAW,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAE5CD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAa,QAAQ,CAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,CAC/C,KAAM,CAAAC,GAAG,CAAGF,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAC5CL,aAAa,CAAC,CAAC,CAACG,QAAQ,CAAC,CACzBD,WAAW,CAACI,GAAG,CAAC,CAClB,CAAC,CAAE,EAAE,CAAC,CAENhB,SAAS,CAAC,IAAM,CACd;AACA,GAAI,CAACS,UAAU,CAAE,CACf;AAAA,CAEJ,CAAC,CAAE,CAACA,UAAU,CAAC,CAAC,CAEhB,mBACEF,KAAA,WAAAU,QAAA,eACEZ,IAAA,QAAKa,SAAS,CAAC,MAAM,CAAAD,QAAA,cACnBZ,IAAA,QAAKc,GAAG,CAAEjB,IAAK,CAACkB,GAAG,CAAC,EAAE,CAAC,CAAC,CACrB,CAAC,cACNb,KAAA,QAAAU,QAAA,eACEV,KAAA,OAAAU,QAAA,eACEZ,IAAA,OAAAY,QAAA,cAAIZ,IAAA,MAAGgB,IAAI,CAAC,SAAS,CAAAJ,QAAA,CAAC,SAAO,CAAG,CAAC,CAAI,CAAC,cACtCZ,IAAA,OAAAY,QAAA,cAAIZ,IAAA,MAAGgB,IAAI,CAAEZ,UAAU,CAAG,SAAS,CAAG,OAAQ,CAAAQ,QAAA,CAAER,UAAU,CAAG,UAAU,CAAG,UAAU,CAAI,CAAC,CAAI,CAAC,cAC9FJ,IAAA,OAAAY,QAAA,cAAIZ,IAAA,MAAGgB,IAAI,CAAC,YAAY,CAAAJ,QAAA,CAAC,WAAS,CAAG,CAAC,CAAI,CAAC,cAC3CZ,IAAA,OAAAY,QAAA,cAAIZ,IAAA,MAAGgB,IAAI,CAAEZ,UAAU,CAAG,QAAQ,CAAG,OAAQ,CAAAQ,QAAA,CAAER,UAAU,CAAG,QAAQ,CAAG,OAAO,CAAI,CAAC,CAAI,CAAC,CACvFA,UAAU,eAAIJ,IAAA,OAAAY,QAAA,cAAIZ,IAAA,MAAGgB,IAAI,CAAC,YAAY,CAAAJ,QAAA,CAAC,aAAW,CAAG,CAAC,CAAI,CAAC,EAE1D,CAAC,cACLV,KAAA,QAAKW,SAAS,CAAC,SAAS,CAAAD,QAAA,EACvBR,UAAU,eAAIF,KAAA,MAAAU,QAAA,EAAG,GAAC,CAACN,QAAQ,CAAC,IAAE,EAAG,CAAC,cACjCN,IAAA,QAAKc,GAAG,CAAEhB,IAAK,CAACiB,GAAG,CAAC,EAAE,CAAC,CAAC,EACrB,CAAC,EACH,CAAC,EACA,CAAC,CAEb,CAEA,cAAe,CAAAZ,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}