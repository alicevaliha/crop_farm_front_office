{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import axios from'axios';import Header from'../Components/Header';import Head_Link from'../Components/Head_Link';import Section_Recherche from'../Components/Section_Recherche';import'../Css/Historique_Terrain.css';import icon_boutton from'../Components/img_component/chercher.png';import Data_Terrain from'../Data/Data_Terrain';import Data_Parcelle from'../Data/Data_Parcelle';import Carte_Terrain from'../Components/Carte_Terrain';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Historique_Terrain(){const[data_terrain,setData_Terrain]=useState(Data_Terrain);const[data_parcelle,setData_Parcelle]=useState(Data_Parcelle);const[idParcelle,setIdParcelle]=useState('');const[typeCulture,setTypeCulture]=useState('');const[proprietaire,setProprietaire]=useState('');const[filteredParcelles,setFilteredParcelles]=useState(data_parcelle);const handleIdParcelleChange=e=>{setIdParcelle(e.target.value);};const handleTypeCultureChange=e=>{setTypeCulture(e.target.value);};const handleProprietaireChange=e=>{setProprietaire(e.target.value);};const handleSubmit=e=>{e.preventDefault();const filtered=data_parcelle.filter(parcelle=>parcelle.nomParcelle.toLowerCase().includes(idParcelle.toLowerCase())&&parcelle.typeCulture.toLowerCase().includes(typeCulture.toLowerCase())&&parcelle.nomProprietaire.toLowerCase().includes(proprietaire.toLowerCase()));setFilteredParcelles(filtered);// Réinitialiser les valeurs des inputs\nsetIdParcelle('');setTypeCulture('');setProprietaire('');};useEffect(()=>{let request=\"https://cropfarmback-production.up.railway.app/parcelles/list\";// request += storedId;\nconsole.log(request);axios.get(request).then(response=>{// Mettez à jour l'état avec les données récupérées depuis l'API\nsetData_Parcelle(response.data);}).catch(error=>{console.log('Erreur lors de la récupération des terrains non valides :',error);});},[]);const All_Parcelle=data_parcelle.map(parcelle=>/*#__PURE__*/_jsx(Carte_Terrain,{image_source:\"Image_Terrain/plant-gif.gif\",nomParcelle:parcelle.id_parcelle,typeCulture:parcelle.nom_plantes,imageProprietaire:\"Image_Terrain/profil.jpeg\",nomProprietaire:parcelle.nom}));return/*#__PURE__*/_jsx(\"body\",{children:/*#__PURE__*/_jsxs(\"div\",{id:\"historique_page\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsxs(\"section\",{className:\"section_list_terrain\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"top_list_terrain\",children:/*#__PURE__*/_jsx(\"h1\",{children:\" Les parcelles   \"})}),/*#__PURE__*/_jsx(\"div\",{className:\"bottom_list_terrain\",children:All_Parcelle})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"section_recherche_terrain\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"head_title\",children:/*#__PURE__*/_jsx(\"h1\",{style:{color:'white'},children:\"Effectuer une recherche\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"body_recherche_terrain\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"formulaire_recherche\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{className:\"text_input\",type:\"text\",value:idParcelle,onChange:handleIdParcelleChange,placeholder:\"Id parcelle\"}),/*#__PURE__*/_jsx(\"input\",{className:\"text_input\",type:\"text\",value:typeCulture,onChange:handleTypeCultureChange,placeholder:\"Type de culture\"}),/*#__PURE__*/_jsx(\"input\",{className:\"text_input\",type:\"text\",value:proprietaire,onChange:handleProprietaireChange,placeholder:\"Proprietaire\"}),/*#__PURE__*/_jsx(\"input\",{className:\"submit_input\",type:\"submit\",src:\"\",alt:\"Rechercher\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bottom_link\",children:/*#__PURE__*/_jsx(Head_Link,{titre:\"Comment avoir une belle recolte?\",lien:\"https://www.rouchette.com/blog/conseils/520-comment-avoir-une-belle-recolte-de-petits-fruits-cette-annee.html\"})})]})]})]})});}export default Historique_Terrain;","map":{"version":3,"names":["React","useEffect","useState","axios","Header","Head_Link","Section_Recherche","icon_boutton","Data_Terrain","Data_Parcelle","Carte_Terrain","jsx","_jsx","jsxs","_jsxs","Historique_Terrain","data_terrain","setData_Terrain","data_parcelle","setData_Parcelle","idParcelle","setIdParcelle","typeCulture","setTypeCulture","proprietaire","setProprietaire","filteredParcelles","setFilteredParcelles","handleIdParcelleChange","e","target","value","handleTypeCultureChange","handleProprietaireChange","handleSubmit","preventDefault","filtered","filter","parcelle","nomParcelle","toLowerCase","includes","nomProprietaire","request","console","log","get","then","response","data","catch","error","All_Parcelle","map","image_source","id_parcelle","nom_plantes","imageProprietaire","nom","children","id","className","style","color","onSubmit","type","onChange","placeholder","src","alt","titre","lien"],"sources":["/Users/macbook/Documents/web/Project_Crop_Game/Front_office/src/Pages/Historique_Terrain.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from 'axios';\r\nimport Header from '../Components/Header'\r\nimport Head_Link from '../Components/Head_Link'\r\nimport Section_Recherche from '../Components/Section_Recherche'\r\nimport '../Css/Historique_Terrain.css'\r\nimport icon_boutton from '../Components/img_component/chercher.png'\r\nimport Data_Terrain from '../Data/Data_Terrain'\r\nimport Data_Parcelle from '../Data/Data_Parcelle'\r\nimport Carte_Terrain from '../Components/Carte_Terrain'\r\n\r\nfunction Historique_Terrain() {\r\nconst [data_terrain,setData_Terrain] = useState(Data_Terrain)\r\nconst [data_parcelle, setData_Parcelle] = useState(Data_Parcelle);\r\n  const [idParcelle, setIdParcelle] = useState('');\r\n  const [typeCulture, setTypeCulture] = useState('');\r\n  const [proprietaire, setProprietaire] = useState('');\r\n  const [filteredParcelles, setFilteredParcelles] = useState(data_parcelle);\r\n\r\n  const handleIdParcelleChange = (e) => {\r\n    setIdParcelle(e.target.value);\r\n  };\r\n\r\n  const handleTypeCultureChange = (e) => {\r\n    setTypeCulture(e.target.value);\r\n  };\r\n\r\n  const handleProprietaireChange = (e) => {\r\n    setProprietaire(e.target.value);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const filtered = data_parcelle.filter((parcelle) =>\r\n      parcelle.nomParcelle.toLowerCase().includes(idParcelle.toLowerCase()) &&\r\n      parcelle.typeCulture.toLowerCase().includes(typeCulture.toLowerCase()) &&\r\n      parcelle.nomProprietaire.toLowerCase().includes(proprietaire.toLowerCase())\r\n    );\r\n    setFilteredParcelles(filtered);\r\n    // Réinitialiser les valeurs des inputs\r\n    setIdParcelle('');\r\n    setTypeCulture('');\r\n    setProprietaire('');\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n\r\n    let request = \"https://cropfarmback-production.up.railway.app/parcelles/list\";\r\n    // request += storedId;\r\n    \r\n    console.log(request);\r\n\r\n    axios.get(request)\r\n    .then(response => {\r\n      // Mettez à jour l'état avec les données récupérées depuis l'API\r\n      setData_Parcelle(response.data);\r\n    })\r\n    .catch(error => {\r\n      console.log('Erreur lors de la récupération des terrains non valides :', error);\r\n    });\r\n    \r\n  }, []);\r\n \r\n  const All_Parcelle = data_parcelle.map((parcelle) => (\r\n    <Carte_Terrain\r\n      image_source=\"Image_Terrain/plant-gif.gif\"\r\n      nomParcelle={parcelle.id_parcelle}\r\n      typeCulture={parcelle.nom_plantes}\r\n      imageProprietaire=\"Image_Terrain/profil.jpeg\"\r\n      nomProprietaire={parcelle.nom}\r\n    />\r\n  ));\r\n\r\n  return (\r\n    <body>\r\n    <div id=\"historique_page\">\r\n     <Header />\r\n        <main>\r\n            <section className='section_list_terrain'>\r\n                <div className='top_list_terrain'>\r\n                    <h1> Les parcelles   </h1>\r\n                </div>\r\n                <div className='bottom_list_terrain'>\r\n                        {All_Parcelle}\r\n                </div>\r\n            </section>\r\n            <section className='section_recherche_terrain'>\r\n                \r\n                <div className='head_title'>\r\n                  <h1 style={{ color: 'white' }}>Effectuer une recherche</h1>\r\n                </div>\r\n                <div className='body_recherche_terrain'>\r\n                    <form className='formulaire_recherche' onSubmit={handleSubmit}>\r\n                      <input \r\n                      className=\"text_input\"\r\n                  type=\"text\"\r\n                  value={idParcelle}\r\n                  onChange={handleIdParcelleChange}\r\n                  placeholder=\"Id parcelle\"\r\n                      />\r\n                      <input \r\n                      className=\"text_input\"\r\n                      type=\"text\"\r\n                      value={typeCulture}\r\n                      onChange={handleTypeCultureChange}\r\n                      placeholder=\"Type de culture\"\r\n                      />\r\n                      <input \r\n                      className=\"text_input\"\r\n                      type=\"text\"\r\n                      value={proprietaire}\r\n                      onChange={handleProprietaireChange}\r\n                      placeholder=\"Proprietaire\"\r\n                      />\r\n                      <input\r\n                      className=\"submit_input\"\r\n                      type=\"submit\"\r\n                      src=\"\"\r\n                      alt=\"Rechercher\"\r\n                      />\r\n                </form>\r\n                  </div>\r\n                \r\n                <div className='bottom_link'>\r\n                  <Head_Link titre=\"Comment avoir une belle recolte?\" lien=\"https://www.rouchette.com/blog/conseils/520-comment-avoir-une-belle-recolte-de-petits-fruits-cette-annee.html\"/>\r\n                </div>\r\n            </section>\r\n        </main>\r\n    </div>\r\n    </body>\r\n  )\r\n}\r\n\r\nexport default Historique_Terrain"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}